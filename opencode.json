{
  "$schema": "https://opencode.ai/config.json",
  "default_agent": "plan",
  "small_model": "opencode/gpt-5-nano", // used for session title generations
  "formatter": false,
  "instructions": [
    "CLAUDE.md",
    "_ai/docs/ETHOS.md"
  ],
  "plugin": [
    "@tarquinen/opencode-dcp@beta", // (https://github.com/Tarquinen/opencode-dynamic-context-pruning)
  ],
  "tools": {
    "ask": false, // this is for shuvcode version which has ask tool integrated
  },
  "experimental": {
    "batch_tool": true, // Enables batch tool for parallel operations
    "disable_paste_summary": true // Disables automatic paste summary feature
  },
  "tui": {
    "scroll_acceleration": {
      "enabled": true
    }
  },
  "keybinds": {
    "model_cycle_favorite": "ctrl+k",
    "model_cycle_favorite_reverse": "ctrl+l",
  },
  "agent": {
    "general": {
      // "model": "google/claude-sonnet-4-5"
      "model": "openai/gpt-5.3-codex"
    },
    "build": {
      "description": "Default primary Build agent with full tool access",
      "mode": "primary",
      "model": "openai/gpt-5.3-codex"
    },
    "plan": {
      "description": "Read-only analysis and planning agent with safe bash commands and web search.",
      "mode": "primary",
      "model": "openai/gpt-5.3-codex",
      "tools": {
        "write": false,
        "edit": false,
        "read": true,
        "grep": true,
        "glob": true,
        "list": true,
        "bash": true,
        "webfetch": true,
        "websearch": true,
        "todowrite": true,
        "todoread": true
      },
      "permission": {
        "edit": "deny",
        "bash": {
          "rmdir *": "deny",
          "mv *": "deny",
          "sudo *": "deny", // Privilege escalation
          "dd *": "deny", // Low-level disk operations
          "mkfs*": "deny", // Format filesystem
          "chmod -R*": "deny", // Recursive permission changes
          "chown -R*": "deny", // Recursive ownership changes
          "> *": "deny", // Output redirection (overwrites files)
          "cat *": "deny", // Prevent cat for writes/heredocs (use Read tool)
          "*<<*": "deny", // Prevent heredocs from any command
          "truncate *": "deny", // Shrinks or extends file size
          "git reset*": "deny",
          "git clean*": "deny",
          "git rebase*": "deny",
          "git branch -D*": "deny",
          "git reflog expire*": "deny",
          "git update-ref*": "deny",
          "git merge*": "deny",
          "git pull*": "deny",
          "git checkout*": "deny",
          "git switch*": "deny",
          "git restore*": "deny",
          "git add*": "deny",
          "git rm*": "deny",
          // GitHub CLI - Branch switching operations
          "gh pr checkout*": "deny", // Prevent checking out PR branches
          "gh pr update-branch*": "deny", // Prevent syncing/updating PR branches
          // GitHub CLI - PR write operations
          "gh pr create*": "deny", // Prevent creating pull requests
          "gh pr merge*": "deny", // Prevent merging pull requests
          "gh pr close*": "deny", // Prevent closing pull requests
          "gh pr edit*": "deny", // Prevent editing PR metadata
          "gh pr reopen*": "deny", // Prevent reopening closed PRs
          "gh pr ready*": "deny", // Prevent marking draft PRs as ready
          "gh pr review*": "deny", // Prevent submitting PR reviews
          "gh pr comment*": "deny", // Prevent adding PR comments
          "gh pr lock*": "deny", // Prevent locking PR conversations
          "gh pr unlock*": "deny", // Prevent unlocking PR conversations
          // GitHub CLI - Repository operations
          "gh repo clone*": "deny", // Prevent cloning repositories
          "gh repo create*": "deny", // Prevent creating repositories
          "gh repo delete*": "deny", // Prevent deleting repositories
          "gh repo fork*": "deny", // Prevent forking repositories
          "gh repo sync*": "deny", // Prevent syncing forks
          // Package manager operations
          "npm install*": "deny", // Prevent installing packages
          "git commit*": "ask",
          "git push*": "ask",
          "rm *": "ask",
          "*": "allow"
        },
        "webfetch": "allow"
      }
    }
  }
}